<!-- <script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/series-label.js"></script> -->

<!-- height is needed to avoid scroll to top: https://www.highcharts.com/forum/viewtopic.php?t=12731 -->
<div id="payoff" style="float:right;width: 40%">

</div>

<script>
    function redrawPayoffChart(highcharts_payoff_series, avg_payoff_history) {
        let dict_my = {type: 'area',
                    name: 'My Payoff',
                    data: highcharts_payoff_series[js_vars.my_id-1],
                    opacity: 0.4,
                    color: '#228B22',
                    lineWidth:3,
                    marker: {
                        lineWidth: 2,
                        fillColor: '#228B22',
                        lineColor: null,
                        symbol: 'diamond',
                        radius: 3
                    },
                    }; 
        let dict_avg_payoff = {type: 'line',
                    name: 'Group Average Payoff',
                    data: avg_payoff_history,
                    color: 'blue',
                    opacity: 0.7,
                    lineWidth:3,
                    marker: {
                        lineWidth: 2,
                        fillColor: '#FFFFFF',
                        lineColor: null,
                        symbol: 'circle',
                        radius: 3
                    },
                    }; 
        let series = [];
        series.push(dict_avg_payoff, dict_my);
        Highcharts.chart('payoff', {
            chart: {
                 height: 270,
                        },

            title: {
                text: 'Payoff History'
            },
            yAxis: {
                title: {
                    text: 'Payoff'
                },
                min: js_vars.ymin,
                max: js_vars.ymax
            },

            xAxis: {
                title: {
                    text: 'Time (seconds)'
                },
                min: 0
            },

            plotOptions: {
                series: {
                    label: {
                        enabled: false
                    },
                    step: 'left',
                    animation: false
                },
                line: {
                    marker: {
                        enabled: true
                    },
                }
            },

            series: series,

            credits: {
                enabled: false
            }

        });
    }
</script>
