<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/series-label.js"></script>

<!-- height is needed to avoid scroll to top: https://www.highcharts.com/forum/viewtopic.php?t=12731 -->
<div id="landscape" style="float:left;width: 60%">

</div>

<script>
    function redrawLandscapeChart(highcharts_landscape_series) {
        const other_positions = highcharts_landscape_series[0].slice();
        other_positions.splice(js_vars.my_id-1,1);
        Highcharts.chart('landscape', {
            chart: {
                 height: 600,
                        },

            title: {
                text: 'Landscape'
            },
            yAxis: {
                title: {
                    text: 'Payoff'
                },
                min: js_vars.ymin,
                max: js_vars.ymax
            },

            xAxis: {
                title: {
                    text: 'Strategy'
                },
                min: js_vars.xmin,
                max: js_vars.xmax
            },

            plotOptions: {
                series: {
                    
                    animation: true
                },

            },

            series: [{
                type: 'line',
                name: 'Landscape',
                data: highcharts_landscape_series[1],
                marker: {
                    enabled: false
                },
                states: {
                    hover: {
                        lineWidth: 0
                    }
                },
                enableMouseTracking: true
            }, {
                type: 'scatter',
                name: 'Other Positions',
                data: other_positions,
                color: '#6B8E23',
                opacity: 0.8,
                marker: {
                    lineWidth: 2,
                    fillColor: '#FFFFFF',
                    lineColor: null,
                    symbol: 'circle',
                    radius: 6
                },

            }, {
                type: 'scatter',
                name: 'Your Position',
                data: [highcharts_landscape_series[0][js_vars.my_id-1]],
                color: '#ff0000',
                opacity: 0.8,
                marker: {
                    lineWidth: 2,
                    fillColor: '#FFFFFF',
                    lineColor: null,
                    symbol: 'circle',
                    radius: 6
                }
            }],

            credits: {
                enabled: false
            }

        });
    }

    function redrawLandscapeChartwithCurrentSliderValue(currentValue,highcharts_landscape_series) {
        const other_positions = highcharts_landscape_series[0].slice();
        other_positions.splice(js_vars.my_id-1,1);
        Highcharts.chart('landscape', {
            chart: {
                 height: 600,
                        },

            title: {
                text: 'Landscape'
            },
            yAxis: {
                title: {
                    text: 'Payoff'
                },
                min: js_vars.ymin,
                max: js_vars.ymax
            },

            xAxis: {
                title: {
                    text: 'Strategy'
                },
                min: js_vars.xmin,
                max: js_vars.xmax
            },
            
            plotOptions: {
                series: {
                    
                    animation: false
                },

            },

            series: [{
                type: 'line',
                name: 'Landscape',
                data: highcharts_landscape_series[1],
                marker: {
                    enabled: false
                },
                states: {
                    hover: {
                        lineWidth: 0
                    }
                },
                enableMouseTracking: true
            }, {
                type: 'scatter',
                name: 'Current value',
                data: currentValue,
                color: '#800080',
                marker: {
                    symbol: 'triangle',
                    radius: 6
                }
            }, {
                type: 'scatter',
                name: 'Other Positions',
                data: other_positions,
                color: '#6B8E23',
                opacity: 0.8,
                marker: {
                    lineWidth: 2,
                    fillColor: '#FFFFFF',
                    lineColor: null,
                    symbol: 'circle',
                    radius: 6
                },

            }, {
                type: 'scatter',
                name: 'Your Position',
                data: [highcharts_landscape_series[0][js_vars.my_id-1]],
                color: '#ff0000',
                opacity: 0.8,
                marker: {
                    lineWidth: 2,
                    fillColor: '#FFFFFF',
                    lineColor: null,
                    symbol: 'circle',
                    radius: 6
                }
            }],

            credits: {
                enabled: false
            }

        });
    }
</script>
